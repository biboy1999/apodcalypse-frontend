(this["webpackJsonpapodcalypse-frontend-react"]=this["webpackJsonpapodcalypse-frontend-react"]||[]).push([[0],{364:function(e,t,n){},368:function(e,t,n){},538:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(42),r=n.n(a),i=(n(364),n(365),n(10)),s=n(63),l=(n(367),n(368),n(8)),o=n(169),j=n(575),d=n(50),u=n(573),b=Object(i.b)({key:"containerListState",default:[]}),O=Object(i.b)({key:"containerStatsListState",default:[]}),h=Object(i.b)({key:"containerNetworkListState",default:[]}),x=Object(i.b)({key:"imagesListState",default:[]}),m=Object(i.b)({key:"selectedContainerState",default:void 0}),f=Object(i.c)({key:"containerUsageState",get:function(e){var t=(0,e.get)(O);return Object.entries(t).reduce((function(e,t){var n,c=Object(l.a)(t,2),a=c[0],r=c[1],i=((null===r||void 0===r?void 0:r.cpu_stats.cpu_usage.total_usage)-(null===r||void 0===r?void 0:r.precpu_stats.cpu_usage.total_usage))/((null===r||void 0===r?void 0:r.cpu_stats.system_cpu_usage)-(null===r||void 0===r?void 0:r.precpu_stats.system_cpu_usage))*(null===r||void 0===r?void 0:r.cpu_stats.online_cpus)*100,s=((null===r||void 0===r?void 0:r.memory_stats.usage)-(null===r||void 0===r||null===(n=r.memory_stats.stats)||void 0===n?void 0:n.cache))/1024/1024,o=(null===r||void 0===r?void 0:r.memory_stats.limit)/1024/1024;return e[a]={name:r.name,cpu:i||0,memory:Math.round(s)||0,totalMemory:Math.round(o)||0},e}),{})}}),p=Object(i.c)({key:"containerPanelListState",get:function(e){var t=(0,e.get)(b);return 0===t.length?[]:t.map((function(e){return{id:e.Id,name:e.Name,state:e.State.Status,image:e.Config.Image,created:e.Created}}))}}),v=n(1),g=function(e){var t=e.selectedPanel,n=Object(i.d)(m);return Object(v.jsxs)("div",{className:"grid-container",children:[Object(v.jsx)("div",{className:"infotitlebar",children:Object(v.jsxs)(u.a,{as:"h3",children:[t.name,Object(v.jsx)(u.a.Subheader,{children:"host"===t.type?"Hostname":null===n||void 0===n?void 0:n.data.name})]})}),t.panel]})},y=n(19),C=n.n(y),k=n(22),w=n(45),I=n(117),S=n(167),N=n(343),A=n(571),R=n(6),_=n.n(R),E=Object(c.memo)((function(e){var t=e.title,n=e.label,c=e.value,a=e.total;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{children:[Object(v.jsxs)(N.a,{children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:t}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:n})]}),Object(v.jsx)(A.a,{value:c,total:a,className:"reverse-indicating",size:"tiny"})]})})}));E.propTypes={title:_.a.string.isRequired,label:_.a.string.isRequired,value:_.a.number.isRequired,total:_.a.number.isRequired};var F,M=E,P=n(315),H=n(316),D=Object(H.a)(d.d)(F||(F=Object(P.a)(["\n  position: absolute;\n  width: 25px;\n  height: calc(100% - 4px);\n  background-color: #718792;\n  border: medium none;\n  transform: translateY(0px);\n  top: 2px;\n\n  ","\n"])),(function(e){switch(e.position){case"right":return"border-radius: 0px 10px 10px 0px;\n        right: -36px;";case"left":return"border-radius: 10px 0px 0px 10px;\n        left: -26px;";default:return""}})),T=function(e){var t=e.id,n=e.type,c=e.position,a=e.isConnectable,r=void 0===a||a;return Object(v.jsx)(D,{position:c,id:t,type:n,isConnectable:r})};T.defaultProps={isConnectable:!0};var z=T,G=function(e){var t,n,c=e.data;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(u.a,{as:"h5",style:{wordBreak:"break-all"},children:[c.name,null!=c.healthyStatus&&Object(v.jsx)(S.a,{color:"healthy"===c.healthyStatus?"green":"starting"===c.healthyStatus?"yellow":"red",size:"mini",horizontal:!0,children:c.healthyStatus}),Object(v.jsx)(u.a.Subheader,{children:"#".concat(c.id.substring(0,12))})]}),Object(v.jsx)(M,{title:"CPU",label:null!=c.cpu?"".concat(Math.ceil(c.cpu),"%"):"n/a",value:null!==(t=c.cpu)&&void 0!==t?t:0,total:100}),Object(v.jsx)(M,{title:"Memory",label:null!==c.memory?"".concat(Math.round(c.memory),"/").concat(Math.round(c.totalMemory)," MiB"):"n/a",value:null!==(n=c.memory)&&void 0!==n?n:0,total:c.totalMemory}),Object(v.jsxs)(N.a,{children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:"Processes:"}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:null!=c.processCount||"n/a"})]}),Object(v.jsx)("div",{children:"IP Table"}),Object(v.jsx)(N.a,{columns:"equal",className:"",celled:"internally",verticalAlign:"middle",textAlign:"center",children:Object(v.jsxs)(N.a.Row,{stretched:!0,children:[Object(v.jsx)(N.a.Column,{children:Object(v.jsx)(N.a,{divided:"vertically",textAlign:"center",children:Object.entries(c.networkSettings.Ports).map((function(e){var t,n=Object(l.a)(e,2),a=n[0],r=n[1],i=a.split("/"),s=Object(l.a)(i,2),o=s[0],j=s[1];return Object(v.jsx)(N.a.Row,{children:r?"".concat(o,":").concat(null===(t=r[0])||void 0===t?void 0:t.HostPort,"/").concat(j.toUpperCase()):"".concat(o,"/").concat(j.toUpperCase())},"".concat(c.id,"-").concat(o,":").concat(null===r||void 0===r?void 0:r.HostPort,"/").concat(j))}))})}),Object(v.jsx)(N.a.Column,{children:Object(v.jsx)(N.a,{divided:"vertically",textAlign:"center",children:Object.entries(c.networkSettings.Networks).flatMap((function(e){var t=Object(l.a)(e,2)[1];return""===t.NetworkID?[]:Object(v.jsxs)(N.a.Row,{children:[t.IPAddress,Object(v.jsx)(z,{type:"source",position:"right",id:"".concat(c.id,"-").concat(t.NetworkID),isConnectable:!1})]},"".concat(c.id,"-").concat(t.NetworkID))}))})})]})}),Object(v.jsx)(S.a,{attached:"top right",size:"tiny",content:c.status,color:"running"===c.status?"green":"red"})]})},L=function(e){var t=e.data;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(u.a,{as:"h5",style:{wordBreak:"break-all"},children:[t.name,Object(v.jsx)(u.a.Subheader,{children:"#".concat(t.id.substring(0,12))})]}),Object(v.jsxs)(N.a,{className:"very compact",children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:"Driver:"}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:t.driver}),null!=t.gateway&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:"Gateway:"}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:t.gateway})]}),null!=t.subnet&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:"Subnet:"}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:t.subnet})]})]}),Object(v.jsx)(z,{type:"target",position:"left",id:t.id})]})},B=n(16),U=Object(i.b)({key:"graphPositionState",default:{}}),q=Object(i.c)({key:"setGraphPositionState",set:function(e,t){var n=e.set,c=(0,e.get)(U);n(U,Object(B.a)(Object(B.a)({},c),t))}}),V=Object(i.c)({key:"graphNodesState",get:function(e){var t=e.get,n=t(b),c=t(h),a=t(f);if(!Array.isArray(n)||!n.length)return[];if(0===Object.keys(a).length)return[];if(!Array.isArray(c)||!c.length)return[];var r=n.map((function(e){var t,n=a[e.Id];return{id:e.Id,type:"container",data:{id:e.Id,name:e.Name,status:e.State.Status,healthyStatus:null===(t=e.State.Health)||void 0===t?void 0:t.Status,cpu:null===n||void 0===n?void 0:n.cpu,memory:null===n||void 0===n?void 0:n.memory,totalMemory:null===n||void 0===n?void 0:n.totalMemory,processCount:null,networkSettings:e.NetworkSettings}}})),i=c.map((function(e){var t,n;return{id:e.Id,type:"network",data:{id:e.Id,name:e.Name,driver:e.Driver,gateway:null===(t=e.IPAM.Config[0])||void 0===t?void 0:t.Gateway,subnet:null===(n=e.IPAM.Config[0])||void 0===n?void 0:n.Subnet}}}));return[].concat(Object(k.a)(r),Object(k.a)(i))}}),W=Object(i.c)({key:"graphEdgesState",get:function(e){var t=e.get,n=t(b),c=t(h);return Array.isArray(n)&&n.length&&Array.isArray(c)&&c.length?n.flatMap((function(e){return Object.entries(e.NetworkSettings.Networks).flatMap((function(t){var n=Object(l.a)(t,2)[1];return c.some((function(e){return e.Id===n.NetworkID}))?{id:"".concat(e.Id,"-").concat(n.NetworkID),type:"smoothstep",source:e.Id,sourceHandle:"".concat(e.Id,"-").concat(n.NetworkID),target:n.NetworkID}:[]}))})):[]}}),K=Object(i.c)({key:"graphElementState",get:function(e){var t=e.get,n=t(U),c=t(W),a=t(V);if(!Array.isArray(a)||!a.length)return[];if(!Array.isArray(c)||!c.length)return[];var r=a.map((function(e){var t,c=null!==(t=n[e.id])&&void 0!==t?t:{position:{x:0,y:0}};return Object(B.a)(Object(B.a)({},e),c)}));return[].concat(Object(k.a)(r),Object(k.a)(c))}}),J=n(36),X=n(319),Y=new(n.n(X).a)({defaultLayoutOptions:{"elk.algorithm":"layered","elk.direction":"RIGHT","elk.spacing.nodeNode":"100","elk.layered.spacing.nodeNodeBetweenLayers":"100","elk.edgeRouting":"ORTHOGONAL","elk.layered.layering.strategy":"MIN_WIDTH","elk.layered.nodePlacement.strategy":"LINEAR_SEGMENTS","elk.spacing.edgeNode":"50"}}),Z=function(){var e=Object(w.a)(C.a.mark((function e(t){var n,c,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 75,75,n=[],c=[],t.forEach((function(e){if(Object(d.h)(e)){var t,a,r,i,s,l,o,j,u=null!==(t=null!==(a=null===(r=e.__rf)||void 0===r?void 0:r.handleBounds.source)&&void 0!==a?a:null===(i=e.__rf)||void 0===i?void 0:i.handleBounds.target)&&void 0!==t?t:[];n.push({id:e.id,width:null!==(s=null===(l=e.__rf)||void 0===l?void 0:l.width)&&void 0!==s?s:75,height:null!==(o=null===(j=e.__rf)||void 0===j?void 0:j.height)&&void 0!==o?o:75,layoutOptions:{portConstraints:"FIXED_ORDER","portAlignment.east":"END"},ports:Object(k.a)(u.map((function(e,t){return{id:e.id,width:0,height:0,layoutOptions:{"port.side":"right"===e.position?"EAST":"NORTH","port.index":t}}})))})}else c.push({id:e.id,sourcePort:"".concat(e.source,"-").concat(e.target),targetPort:e.target,source:e.source,target:e.target})})),e.next=7,Y.layout({id:"root",children:n,edges:c});case 7:return a=e.sent,e.abrupt("return",t.filter((function(e){var t,n=null===a||void 0===a||null===(t=a.children)||void 0===t?void 0:t.find((function(t){return t.id===e.id}));return Object(d.h)(e)&&(null===n||void 0===n?void 0:n.x)&&(null===n||void 0===n?void 0:n.y)&&(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)})).map((function(e){var t,n=null===a||void 0===a||null===(t=a.children)||void 0===t?void 0:t.find((function(t){return t.id===e.id}));return Object(J.a)({},e.id,{position:{x:n.x-n.width/2+Math.random()/1e3,y:n.y-n.height/2}})})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){console.log("flow loaded:",e),e.fitView()},$={container:G,network:L},ee=function(){var e=Object(i.d)(K),t=Object(i.e)(q),n=Object(c.useRef)(!1),a=Object(d.i)((function(e){return e.nodes})),r=Object(d.i)((function(e){return e.edges})),s=function(e){return e.__rf.width&&e.__rf.height},l=function(){var e=Object(w.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z([].concat(Object(k.a)(r),Object(k.a)(a)));case 2:n=e.sent,t(Object.assign.apply(Object,[{}].concat(Object(k.a)(n))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=Object(i.e)(m);return Object(c.useEffect)((function(){!n.current&&0!==a.length&&a.every(s)&&(function(){var e=Object(w.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),n.current=!0)}),[a,r]),Object(v.jsxs)(d.g,{elements:e,nodeTypes:$,onElementsRemove:function(e){return console.log(e)},onLoad:Q,onSelectionChange:function(e){o((function(t){var n,c;return null!==(n=null===e||void 0===e||null===(c=e.filter((function(e){return"container"===e.type})))||void 0===c?void 0:c[0])&&void 0!==n?n:t}))},children:[Object(v.jsx)(d.c,{style:{left:"220px",bottom:"51px"},children:Object(v.jsx)(d.b,{onClick:function(){return l()},children:Object(v.jsx)(I.a,{name:"project diagram"})})}),Object(v.jsx)(d.e,{style:{left:"10px",bottom:"10px"}}),Object(v.jsx)(d.a,{color:"#aaa",gap:16})]})},te=n(339),ne=n(556),ce=Object(i.b)({key:"selectedMenuItemState",default:{key:!1,name:!1,panel:void 0}}),ae=n(539),re=n(568),ie=n(577),se=Object(i.b)({key:"imageSocket",default:null,dangerouslyAllowMutability:!0}),le=Object(i.b)({key:"containersSocket",default:null,dangerouslyAllowMutability:!0}),oe=Object(i.b)({key:"networksSocket",default:null,dangerouslyAllowMutability:!0}),je=Object(i.b)({key:"recipesSocket",default:null,dangerouslyAllowMutability:!0}),de=n(567),ue=function(e){var t=e.trigger,n=e.confirmCallback,a=Object(c.useState)(!1),r=Object(l.a)(a,2),i=r[0],s=r[1],o=function(e){n(e),s(!1)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(de.a,{size:"tiny",trigger:t,open:i,onClose:function(){return s(!1)},onOpen:function(){return s(!0)},children:[Object(v.jsxs)(de.a.Header,{children:[Object(v.jsx)(I.a.Group,{children:Object(v.jsx)(I.a,{name:"exclamation triangle"})}),Object(v.jsx)("span",{children:" Confirm"})]}),Object(v.jsx)(de.a.Content,{children:"Action can't be reverted. Are you sure to proceed?"}),Object(v.jsxs)(de.a.Actions,{children:[Object(v.jsx)(ae.a,{onClick:function(){return o(!1)},negative:!0,children:"No"}),Object(v.jsx)(ae.a,{onClick:function(){return o(!0)},positive:!0,children:"Yes"})]})]})})},be=new Set([]),Oe=function(){var e=Object(i.d)(p),t=Object(i.d)(le),n=function(e,t){var n=t.checked,c=t.id;n?be.add(c):be.delete(c)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"flex-box",children:[Object(v.jsx)(u.a,{dividing:!0,size:"large",children:"Action"}),Object(v.jsxs)(ae.a.Group,{children:[Object(v.jsxs)(ae.a,{positive:!0,onClick:function(){be.forEach((function(e){t.emit("start",e,{}),s.b.info("\ud83d\udfe2 Starting Container: ".concat(e.substring(0,12)))}))},children:[Object(v.jsx)(I.a,{name:"play"}),"Start"]}),Object(v.jsxs)(ae.a,{color:"yellow",onClick:function(){be.forEach((function(e){t.emit("stop",e,{}),s.b.info("\ud83d\udfe5 Stopping Container: ".concat(e.substring(0,12)))}))},children:[Object(v.jsx)(I.a,{name:"pause"}),"Stop"]}),Object(v.jsx)(ue,{trigger:Object(v.jsxs)(ae.a,{negative:!0,children:[Object(v.jsx)(I.a,{name:"trash"}),"Delete"]}),confirmCallback:function(e){e&&(be.forEach((function(e){t.emit("remove",e),s.b.info("\ud83d\uddd1\ufe0f Removing Container: ".concat(e.substring(0,12)))})),be.clear())}})]}),Object(v.jsx)(ne.a,{}),Object(v.jsx)("div",{className:"flex-tab",children:Object(v.jsxs)(re.a,{fixed:!0,compact:"very",basic:"very",selectable:!0,children:[Object(v.jsx)(re.a.Header,{fullWidth:!0,children:Object(v.jsxs)(re.a.Row,{children:[Object(v.jsx)(re.a.HeaderCell,{style:{width:"min-content"},children:Object(v.jsx)(ie.a,{disabled:!0})}),Object(v.jsx)(re.a.HeaderCell,{children:"Status"}),Object(v.jsx)(re.a.HeaderCell,{children:"Name"}),Object(v.jsx)(re.a.HeaderCell,{children:"ID"}),Object(v.jsx)(re.a.HeaderCell,{children:"Image"}),Object(v.jsx)(re.a.HeaderCell,{children:"Created at"})]})}),Object(v.jsx)(re.a.Body,{children:e.map((function(e){return Object(v.jsxs)(re.a.Row,{children:[Object(v.jsx)(re.a.Cell,{children:Object(v.jsx)(ie.a,{id:e.id,onChange:n})}),Object(v.jsxs)(re.a.Cell,{children:[("exited"===e.state||"dead"===e.state)&&Object(v.jsx)(S.a,{color:"red",children:e.state}),"running"===e.state&&Object(v.jsx)(S.a,{color:"green",children:e.state}),("created"===e.state||"restarting"===e.state||"paused"===e.state)&&Object(v.jsx)(S.a,{color:"yellow",children:e.state})]}),Object(v.jsx)(re.a.Cell,{className:"warp-text",children:e.name}),Object(v.jsx)(re.a.Cell,{children:e.id.substring(0,12)}),Object(v.jsx)(re.a.Cell,{children:e.name}),Object(v.jsx)(re.a.Cell,{children:e.created})]},e.id)}))})]})})]})})},he=function(){var e=Object(i.d)(x);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"flex-box",children:Object(v.jsx)("div",{className:"flex-tab",children:Object(v.jsxs)(re.a,{fixed:!0,compact:"very",basic:"very",selectable:!0,children:[Object(v.jsx)(re.a.Header,{fullWidth:!0,children:Object(v.jsxs)(re.a.Row,{children:[Object(v.jsx)(re.a.HeaderCell,{children:"ID"}),Object(v.jsx)(re.a.HeaderCell,{children:"Tags"}),Object(v.jsx)(re.a.HeaderCell,{children:"Size"}),Object(v.jsx)(re.a.HeaderCell,{children:"Created"}),Object(v.jsx)(re.a.HeaderCell,{width:"1"})]})}),Object(v.jsx)(re.a.Body,{children:e.map((function(e){return Object(v.jsxs)(re.a.Row,{children:[Object(v.jsx)(re.a.Cell,{children:e.Id}),Object(v.jsx)(re.a.Cell,{className:"warp-text",children:e.RepoTags.join(",")}),Object(v.jsxs)(re.a.Cell,{children:[(e.Size/1024/1024).toFixed(2)," MB"]}),Object(v.jsx)(re.a.Cell,{children:e.Created}),Object(v.jsx)(re.a.Cell,{children:Object(v.jsx)(I.a,{name:"arrow right"})})]},e.Id)}))})]})})})})},xe=n(569),me=n(564),fe=Object(c.memo)((function(e){var t=e.total,n=e.data,c=n.every((function(e){return 0===e.value})),a=n.map((function(e,n,a){var r,i,s=a.length,l=e.value/t*100;return Object(v.jsx)(me.a,{position:"top center",value:l,trigger:Object(v.jsx)("div",{className:"bar highlight",style:{backgroundColor:c?"transparent":"#".concat(e.id.substring(0,6)),width:"".concat(l,"%"),display:c&&n+1===s?"block":0===l?"none":"block",minWidth:"5px"},children:Object(v.jsx)("div",{className:"progress",children:"".concat((r=l,i=2,i>0?Math.round(r*(10*i))/(10*i):Math.round(r)),"%")})}),children:Object(v.jsx)(me.a.Content,{children:Object(v.jsxs)(u.a,{size:"tiny",children:[e.name,Object(v.jsx)(u.a.Subheader,{children:e.id})]})})},e.id)}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"ui multiple progress",style:{margin:"0px"},children:a})})})),pe=function(e){var t=e.data,n=e.title,c=e.labelSuffix,a=e.total,r=t.reduce((function(e,t){return e+t.value}),0).toFixed(2);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(xe.a.Group,{children:Object(v.jsxs)(xe.a,{fluid:!0,children:[Object(v.jsx)(xe.a.Content,{children:Object(v.jsxs)(xe.a.Header,{children:[Object(v.jsx)("span",{children:n}),Object(v.jsx)("span",{className:"right floated",children:r+c})]})}),Object(v.jsx)(xe.a.Content,{children:Object(v.jsx)(fe,{total:a,data:t})})]})})})},ve=function(){var e=Object(i.d)(f),t=Object(i.d)(b),n=Object(i.d)(h),c=Object(i.d)(x),a=Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1];return{id:n.substr(0,12),name:c.name,value:c.cpu}})),r=Object.entries(e).map((function(e){var t=Object(l.a)(e,2),n=t[0],c=t[1];return{id:n.substr(0,12),name:c.name,value:c.memory}})),s=1986.56;return Object(v.jsxs)("div",{className:"infosidebar",children:[Object(v.jsx)(pe,{total:400,title:"CPU Usage",labelSuffix:"%",data:a}),Object(v.jsx)(pe,{total:s,title:"Memory Usage",labelSuffix:" MiB / ".concat(s," MiB"),data:r}),Object(v.jsxs)(xe.a.Group,{centered:!0,className:"horizontal",children:[Object(v.jsxs)(xe.a,{style:{width:"170px",alignItems:"center",minWidth:"0px"},children:[Object(v.jsx)("div",{children:Object(v.jsx)(I.a,{name:"dice d6",size:"huge"})}),Object(v.jsxs)(xe.a.Content,{children:[Object(v.jsx)(xe.a.Header,{children:t.length}),Object(v.jsx)(xe.a.Description,{children:"Containers"})]})]}),Object(v.jsxs)(xe.a,{style:{width:"170px",alignItems:"center",minWidth:"0px"},children:[Object(v.jsx)(I.a,{name:"window restore",size:"huge"}),Object(v.jsxs)(xe.a.Content,{children:[Object(v.jsx)(xe.a.Header,{children:c.length}),Object(v.jsx)(xe.a.Description,{children:"Images"})]})]}),Object(v.jsxs)(xe.a,{style:{width:"170px",alignItems:"center",minWidth:"0px"},children:[Object(v.jsx)(I.a,{name:"sitemap",size:"huge"}),Object(v.jsxs)(xe.a.Content,{children:[Object(v.jsx)(xe.a.Header,{children:n.length}),Object(v.jsx)(xe.a.Description,{children:"Networks"})]})]})]})]})},ge=n(208),ye=n(209),Ce=n(557),ke=n(558),we=n(562),Ie=n(336),Se=n(337),Ne=n(172),Ae=n(165),Re=n(342),_e={conatinerId:"",status:Object(k.a)(Array(50)).map((function(){return{time:null,cpu:0,memory:0}}))},Ee=function(){var e=Object(i.d)(m),t=Object(i.d)(f);return console.log(_e),e.data.id===_e.conatinerId?(_e.status.shift(),_e.status.push({time:null,cpu:t[e.data.id].cpu,memory:t[e.data.id].memory})):(_e.conatinerId=e.data.id,_e.status=Object(k.a)(Array(50)).map((function(){return{time:null,cpu:0,memory:0}}))),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"flex-box",children:[Object(v.jsx)("h1",{children:"CPU"}),Object(v.jsx)(Ce.a,{maxHeight:300,children:Object(v.jsxs)(ke.a,{data:_e.status,margin:{top:10,right:30,left:0,bottom:0},children:[Object(v.jsx)(we.a,{strokeDasharray:"3 3"}),Object(v.jsx)(Ie.a,{dataKey:"time"}),Object(v.jsx)(Se.a,{type:"number",domain:[0,100]}),Object(v.jsx)(Ne.a,{}),Object(v.jsx)(Ae.a,{}),Object(v.jsx)(Re.a,{type:"linear",dataKey:"cpu",stroke:"#8884d8",isAnimationActive:!1})]})}),Object(v.jsx)("h1",{children:"Memory"}),Object(v.jsx)(Ce.a,{maxHeight:300,children:Object(v.jsxs)(ke.a,{data:_e.status,margin:{top:10,right:30,left:0,bottom:0},children:[Object(v.jsx)(we.a,{strokeDasharray:"3 3"}),Object(v.jsx)(Ie.a,{dataKey:"time"}),Object(v.jsx)(Se.a,{type:"number",domain:[0,8192]}),Object(v.jsx)(Ne.a,{}),Object(v.jsx)(Ae.a,{}),Object(v.jsx)(Re.a,{type:"linear",dataKey:"memory",stroke:"#8884d8",isAnimationActive:!1})]})})]})})},Fe=n(578),Me=n(565),Pe=n(253),He=(te.a.Item,I.a,te.a.Item,I.a,te.a.Item,I.a,n(570),n(572),n(51)),De=new Set([]),Te=function(){var e=Object(i.d)(h),t=Object(i.d)(oe),n=Object(k.a)(e).sort((function(e,t){return e.Id>t.Id})),c=function(e,t){var n=t.checked,c=t.id;n?De.add(c):De.delete(c)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"flex-box",children:[Object(v.jsx)(u.a,{dividing:!0,size:"large",children:"Action"}),Object(v.jsx)(ae.a.Group,{widths:"2",children:Object(v.jsx)(ue,{trigger:Object(v.jsxs)(ae.a,{negative:!0,children:[Object(v.jsx)(I.a,{name:"trash"}),"Remove"]}),confirmCallback:function(e){e&&(De.forEach((function(e){t.emit("remove",e),s.b.info("\ud83d\uddd1\ufe0f Removing Network: ".concat(e.substring(0,12)))})),De.clear())}})}),Object(v.jsx)(ne.a,{}),Object(v.jsx)("div",{className:"flex-tab",children:Object(v.jsxs)(re.a,{fixed:!0,compact:"very",basic:"very",selectable:!0,children:[Object(v.jsx)(re.a.Header,{fullWidth:!0,children:Object(v.jsxs)(re.a.Row,{children:[Object(v.jsx)(re.a.HeaderCell,{style:{width:"min-content"},children:Object(v.jsx)(ie.a,{disabled:!0})}),Object(v.jsx)(re.a.HeaderCell,{children:"ID"}),Object(v.jsx)(re.a.HeaderCell,{children:"Name"}),Object(v.jsx)(re.a.HeaderCell,{children:"Driver"}),Object(v.jsx)(re.a.HeaderCell,{children:"Created"})]})}),Object(v.jsx)(re.a.Body,{children:n.map((function(e){return Object(v.jsxs)(re.a.Row,{children:[Object(v.jsx)(re.a.Cell,{children:Object(v.jsx)(ie.a,{id:e.Id,onChange:c})}),Object(v.jsx)(re.a.Cell,{children:e.Id}),Object(v.jsx)(re.a.Cell,{className:"warp-text",children:e.Name}),Object(v.jsx)(re.a.Cell,{children:e.Driver}),Object(v.jsx)(re.a.Cell,{children:e.Created})]},e.Id)}))})]})})]})})},ze=function(e){var t=e.handleClick,n=Object(i.d)(je),a=Object(c.useState)([]),r=Object(l.a)(a,2),s=r[0],o=r[1];return Object(c.useEffect)((function(){n.emit("list",(function(e){o(e)}))}),[n]),Object(v.jsx)(xe.a.Group,{children:s.map((function(e){return Object(v.jsx)(xe.a,{id:e,header:e,onClick:t},e)}))})},Ge=function(e){var t=e.nestIndex,n=e.control,c=e.register,a=e.getValues,r=Object(He.b)({control:n,name:"envvar.".concat(t,".nestedArray")}),i=r.fields;r.remove,r.append;return Object(v.jsxs)("div",{children:[i.map((function(e,n){return Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)(u.a,{as:"h4",content:a("envvar.".concat(t,".nestedArray.").concat(n,".key")),subheader:a("envvar.".concat(t,".nestedArray.").concat(n,".desc"))}),Object(v.jsx)("input",Object(B.a)({required:a("envvar.".concat(t,".nestedArray.").concat(n,".required")),type:"password"===a("envvar.".concat(t,".nestedArray.").concat(n,".type"))?"password":"text"},c("envvar.".concat(t,".nestedArray.").concat(n,".value"))))]},e.id)})),Object(v.jsx)(ne.a,{})]})};function Le(e){var t=e.control,n=e.register,c=(e.setValue,e.getValues),a=Object(He.b)({control:t,name:"envvar"}),r=a.fields;a.append,a.remove,a.prepend;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("ul",{children:r.map((function(e,a){return Object(v.jsxs)("li",{children:[Object(v.jsx)(u.a,{as:"h2",content:c("envvar.".concat(a,".name"))}),Object(v.jsx)(Ge,{nestIndex:a,control:t,register:n,getValues:c})]},e.id)}))})})}var Be=function(e){var t=e.recipeName,n=e.handleClose,a=Object(i.d)(je),r=Object(He.c)(),s=r.handleSubmit,o=r.control,j=r.register,d=r.getValues,b=r.setValue,O=r.reset,h=Object(He.b)({control:o,name:"variables"}).fields,x=Object(c.useState)(""),m=Object(l.a)(x,2),f=m[0],p=m[1];return Object(c.useEffect)((function(){a&&a.emit("get_recipe",t,(function(e){var t=JSON.parse(e);p(t.canonical_id);var n={variables:t.variables.map((function(e){return{key:e.key,desc:e.description,value:e.default,type:e.type,required:e.required}})),envvar:t.containers.map((function(e){return{name:e.name,nestedArray:e.environment_variables.map((function(e){return{key:e.key,desc:e.description,value:e.default,type:e.type,required:e.required}}))}}))};O(n)}))}),[a]),Object(v.jsxs)(Me.a,{onSubmit:s((function(e){var t=e.prefix,c=e.variables,r=e.envvar,i=Object.assign.apply(Object,[{}].concat(Object(k.a)(c.map((function(e){return Object(J.a)({},e.key,e.value)}))))),s=Object.assign.apply(Object,[{}].concat(Object(k.a)(r.map((function(e){return Object(J.a)({},e.name,Object.assign.apply(Object,[{}].concat(Object(k.a)(e.nestedArray.flatMap((function(e){return""!==e.value?Object(J.a)({},e.key,e.value):[]}))))))})))));console.log("sended"),a.emit("craft",f,t,i,s),n()})),id:"recipe-form",children:[Object(v.jsx)(u.a,{as:"h1",content:"Recipe Settings"}),Object(v.jsx)(ne.a,{}),Object(v.jsx)(u.a,{as:"h3",content:"Prefix name",subheader:"For conatiner group prefix name"}),Object(v.jsx)("input",Object(B.a)({type:"text",required:!0},j("prefix"))),Object(v.jsx)(u.a,{as:"h1",content:"Variables"}),Object(v.jsx)(ne.a,{}),h.map((function(e,t){return Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)(u.a,{as:"h3",content:e.key,subheader:e.desc}),Object(v.jsx)("input",Object(B.a)(Object(B.a)({type:"text",placeholder:e.desc},j("variables.".concat(t,".value"))),{},{required:e.required}))]},e.id)})),Object(v.jsx)(u.a,{as:"h1",content:"Environment Variables"}),Object(v.jsx)(ne.a,{}),Object(v.jsx)(Le,{control:o,register:j,getValues:d,setValue:b})]})},Ue=function(e){var t,n=e.trigger,a=Object(c.useState)(!1),r=Object(l.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),d=j[0],u=j[1],b=function(){u(""),s(!1)};return t=Object(v.jsx)(ze,{handleClick:function(e,t){var n=t.id;u(n)}}),""!==d&&(t=Object(v.jsx)(Be,{recipeName:d,handleClose:b})),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(de.a,{size:"large",trigger:n,onOpen:function(){return s(!0)},onClose:function(){return b()},open:i,children:[Object(v.jsxs)(de.a.Header,{children:[Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:"window restore"}),Object(v.jsx)(I.a,{name:"add",corner:!0})]}),Object(v.jsx)("span",{children:" Recipe Wizard"})]}),Object(v.jsx)(de.a.Content,{scrolling:!0,children:t}),Object(v.jsx)(de.a.Actions,{children:""!==d&&Object(v.jsxs)(ae.a,{positive:!0,form:"recipe-form",children:[Object(v.jsx)(I.a,{name:"plus"}),"Create"]})})]})})},qe=function(){var e=Object(c.useRef)(null),t=new ge.FitAddon,n=Object(i.d)(le),a=Object(i.d)(m);return Object(c.useEffect)((function(){return e.current.terminal.clear(),n.emit("listen_logs",a.data.id,{tail:200}),n.on("logs",(function(t){e.current.terminal.writeln(t)})),function(){n.emit("stop_listen_logs",a.data.id),n.removeAllListeners("logs")}}),[a]),Object(c.useEffect)((function(){t.fit()})),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"flex-box",children:Object(v.jsx)(ye.a,{className:"flex-tab",options:{convertEol:!0},ref:e,addons:[t],onResize:t.fit()})})})},Ve=n(563),We=function(e){var t=e.trigger,n=Object(i.d)(je),a=Object(c.useState)(!1),r=Object(l.a)(a,2),s=r[0],o=r[1];return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(de.a,{size:"large",trigger:t,open:s,onClose:function(){return o(!1)},onOpen:function(){return o(!0)},children:[Object(v.jsxs)(de.a.Header,{children:[Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:"window restore"}),Object(v.jsx)(I.a,{name:"add",corner:!0})]}),Object(v.jsx)("span",{children:" Recipe Wizard"})]}),Object(v.jsx)(de.a.Content,{scrolling:!0,children:Object(v.jsx)(Pe.a,{placeholder:!0,children:Object(v.jsx)(N.a,{columns:"2",stackable:!0,textAlign:"center",children:Object(v.jsx)(N.a.Row,{verticalAlign:"middle",children:Object(v.jsxs)(N.a.Column,{children:[Object(v.jsxs)(u.a,{children:[Object(v.jsx)("div",{children:Object(v.jsxs)(I.a.Group,{size:"huge",children:[Object(v.jsx)(I.a,{name:"upload"}),Object(v.jsx)(I.a,{corner:"bottom right",name:"scroll"})]})}),Object(v.jsx)("br",{}),"Upload recipe zip"]}),Object(v.jsx)(Ve.a,{id:"file-upload",type:"file",style:{display:"none"},onChange:function(e){var t=e.target.files;if(t[0]){var c=new FileReader;c.onload=function(e){n.emit("upload",e.target.result),o(!1)},c.readAsArrayBuffer(t[0])}}}),Object(v.jsx)(ae.a,{as:"label",primary:!0,htmlFor:"file-upload",children:"Select File"})]})})})})})]})})},Ke=[{key:"overview",type:"host",name:"Overview",icon:"desktop",panel:Object(v.jsx)(ve,{})},{key:"containers",type:"host",name:"Containers",icon:"dice d6",panel:Object(v.jsx)(Oe,{})},{key:"images",type:"host",name:"Images",icon:"window restore",panel:Object(v.jsx)(he,{})},{key:"networks",type:"host",name:"Networks",icon:"sitemap",panel:Object(v.jsx)(Te,{})},{key:"status",type:"container",name:"Status",icon:"chart area",panel:Object(v.jsx)(Ee,{})},{key:"logs",type:"container",name:"Logs",icon:"stream",panel:Object(v.jsx)(qe,{})},{key:"UploadRecipe",type:"action",name:"Upload Recipe",icon:"upload",cornerIcon:"scroll",panel:function(e){return Object(v.jsx)(We,{trigger:e},"CreateImage")}},{key:"CreateRecipe",type:"action",name:"Create Recipe",icon:"scroll",cornerIcon:"add",panel:function(e){return Object(v.jsx)(Ue,{trigger:e},"CreateRecipe")}}],Je=function(e){var t=e.selectedPanel,n=Object(i.e)(ce),c=function(e,t){var c=t._key;n((function(e){return e.key===c?{key:!1,type:!1,name:!1,panel:null,icon:""}:Ke.find((function(e){return e.key===c}))}))},a=function(e,t){t._key;console.log("clicking")},r=Object(i.d)(m);return Object(v.jsxs)(te.a,{icon:!0,vertical:!0,compact:!0,children:[Ke.filter((function(e){return"host"===e.type})).map((function(e){return Object(v.jsx)(te.a.Item,{_key:e.key,name:e.name,active:t===e.name,onClick:c,children:Object(v.jsx)("div",{children:Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:e.icon,size:"large"}),e.cornerIcon&&Object(v.jsx)(I.a,{name:e.cornerIcon,corner:!0})]})})},e.key)})),Object(v.jsx)(ne.a,{fitted:!0}),Object(v.jsx)(ne.a,{hidden:!0}),Ke.filter((function(e){return"container"===e.type})).map((function(e){return Object(v.jsx)(te.a.Item,{_key:e.key,name:e.name,active:t===e.name,onClick:c,disabled:!r,children:Object(v.jsx)("div",{children:Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:e.icon,size:"large"}),e.cornerIcon&&Object(v.jsx)(I.a,{name:e.cornerIcon,corner:!0})]})})},e.key)})),Object(v.jsx)(ne.a,{fitted:!0}),Object(v.jsx)(ne.a,{hidden:!0}),Ke.filter((function(e){return"action"===e.type})).map((function(e){return e.panel(Object(v.jsx)(te.a.Item,{_key:e.key,name:e.name,active:t===e.name,onClick:a,children:Object(v.jsx)("div",{children:Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:e.icon,size:"large"}),e.cornerIcon&&Object(v.jsx)(I.a,{name:e.cornerIcon,corner:!0})]})})},e.key))}))]})},Xe=function(){var e=Object(i.d)(b),t=Object(i.d)(O),n=Object(i.d)(h),a=Object(i.d)(x),r=Object(c.useState)(!0),s=Object(l.a)(r,2),o=s[0],j=s[1],d=Object(c.useState)(!1),u=Object(l.a)(d,2),m=u[0],f=u[1],p=Object(c.useState)(!1),g=Object(l.a)(p,2),y=g[0],C=g[1],k=Object(c.useState)(!1),w=Object(l.a)(k,2),S=w[0],N=w[1],A=Object(c.useState)(!1),R=Object(l.a)(A,2),_=R[0],E=R[1];return Object(c.useEffect)((function(){0!==e.length&&f(!0)}),[e]),Object(c.useEffect)((function(){0!==Object.keys(t).length&&C(!0)}),[t]),Object(c.useEffect)((function(){0!==n.length&&N(!0)}),[n]),Object(c.useEffect)((function(){0!==a.length&&E(!0)}),[a]),Object(c.useEffect)((function(){m&&y&&S&&_&&j(!1)}),[m,y,S,_]),Object(v.jsx)(v.Fragment,{children:o&&Object(v.jsxs)("div",{className:"ui status overlay nag",children:[Object(v.jsxs)("div",{className:"title",children:[m?Object(v.jsx)(I.a,{name:"check",color:"green"}):Object(v.jsx)(I.a,{name:"x",color:"red"}),Object(v.jsx)("span",{children:"Container List "}),y?Object(v.jsx)(I.a,{name:"check",color:"green"}):Object(v.jsx)(I.a,{name:"x",color:"red"}),Object(v.jsx)("span",{children:"Stats List "}),S?Object(v.jsx)(I.a,{name:"check",color:"green"}):Object(v.jsx)(I.a,{name:"x",color:"red"}),Object(v.jsx)("span",{children:"Network List "}),_?Object(v.jsx)(I.a,{name:"check",color:"green"}):Object(v.jsx)(I.a,{name:"x",color:"red"}),Object(v.jsx)("span",{children:"Image List "})]}),Object(v.jsx)(I.a,{name:"close",onClick:function(){return j(!1)}})]})})},Ye=function(e){var t=e.visable;return Object(v.jsx)(v.Fragment,{children:!t&&Object(v.jsx)("div",{className:"ui red status overlay nag",children:Object(v.jsx)("div",{className:"title",children:Object(v.jsx)("span",{children:"Couldn't connect to IDM (Check your connection and try again.)"})})})})},Ze={SUCCESS:"\u2714\ufe0f Success!",RECIPE_UNPACKING:"\u231b Recipe Unpacking.",RECIPE_EXTRACT_FINISHED:"\u2714\ufe0f Recipe Extract Finished.",RECIPE_IMPORT_FINISHED:"\u2714\ufe0f Recipe Import Finished.",CRAFT_PREPARE:"\u231b Preparing.",CRAFT_PULLING_IMAGE:"\ud83d\uddbc\ufe0f Pulling Images.",CRAFT_NETWORK_CREATED:"\ud83c\udf10 Network Created.",CRAFT_CONTAINER_CREATED:"\ud83d\udce6 Container Created.",CRAFT_FINISHED:"\u2714\ufe0f Recipe Deployed!",BAD_ZIPFILE:"\u274c Bad Zip(might corrupted or wrong file)",INCORRECT_RECIPE_STRUCTURE:"\u274c Incorrect Recipe Structure.",MISSING_RECIPE_FILE:"\u274c Missing Recipe File.(Can't find recipe.json)",INCORRECT_RECIPE_JSON_FORMAT:"\u274c Incorrect Recipe Json Format.",NO_SUCH_RECIPE:"\u274c no",MISSING_VARIABLE:"\u274c Missing Variable.",BAD_PREFIX_NAME:"\u274c Prefix must be [a-z_]+"},Qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(Ze[e]," ").concat(t)},$e=function(){var e=Object(i.d)(ce),t=Object(i.e)(b),n=Object(i.e)(O),a=Object(i.e)(h),r=Object(i.e)(x),u=Object(i.d)(je),m=Object(i.e)(le),f=Object(i.e)(se),p=Object(i.e)(oe),y=Object(i.e)(je),C=Object(c.useState)(!1),k=Object(l.a)(C,2),w=k[0],I=k[1];return Object(c.useEffect)((function(){var e=Object(o.io)("http://127.0.0.1:4636/containers");e.on("connect",(function(){console.log(e.id),I(!0)})),e.on("disconnect",(function(){I(!1)}));var c=setInterval((function(){e.volatile.emit("list",{all:!0},(function(e){t(e)}))}),5e3),a=setInterval((function(){e.volatile.emit("list_stats",(function(e){n(e)}))}),7e3);return m(e),function(){clearInterval(c),clearInterval(a),e.disconnect()}}),[]),Object(c.useEffect)((function(){var e=Object(o.io)("http://127.0.0.1:4636/networks");e.on("connect",(function(){console.log(e.id)}));var t=setInterval((function(){e.volatile.emit("list",{},(function(e){a(e)}))}),3e3);return p(e),function(){clearInterval(t),e.disconnect()}}),[]),Object(c.useEffect)((function(){var e=Object(o.io)("http://127.0.0.1:4636/images");e.on("connect",(function(){console.log(e.id)}));var t=setInterval((function(){e.volatile.emit("list",(function(e){r(e)}))}),4e3);return f(e),function(){clearInterval(t),e.disconnect()}}),[]),Object(c.useEffect)((function(){var e=Object(o.io)("http://127.0.0.1:4636/recipes");return e.on("connect",(function(){console.log(e.id)})),y(e),function(){e.disconnect()}}),[]),Object(c.useEffect)((function(){return u&&u.on("message",(function(e){s.b.info(Qe(e.message))})),function(){u&&u.removeAllListeners("message")}}),[u]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(Xe,{}),Object(v.jsx)(Ye,{visable:w}),Object(v.jsxs)(j.a.Pushable,{style:{flexGrow:"1"},children:[Object(v.jsx)(j.a,{animation:"overlay",direction:"right",visible:!!e.name,className:"with-toolbar",style:{overflow:"hidden"},children:Object(v.jsx)(g,{selectedPanel:e})}),Object(v.jsx)(j.a.Pusher,{style:{height:"100%"},children:Object(v.jsx)(d.f,{children:Object(v.jsx)(ee,{})})})]}),Object(v.jsx)(Je,{selectedPanel:e.name})]})})},et=function(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(s.a,{position:"top-left"}),Object(v.jsx)($e,{})]})};r.a.render(Object(v.jsx)(et,{}),document.getElementById("root"))}},[[538,1,2]]]);
//# sourceMappingURL=main.6937c4ba.chunk.js.map