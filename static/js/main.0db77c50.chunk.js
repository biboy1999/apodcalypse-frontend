(this["webpackJsonpapodcalypse-frontend-react"]=this["webpackJsonpapodcalypse-frontend-react"]||[]).push([[0],{364:function(e,t,n){},368:function(e,t,n){},538:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(42),r=n.n(a),i=(n(364),n(365),n(10)),s=n(63),l=(n(367),n(368),n(169)),o=n(575),j=n(50),d=n(573),u=n(8),b=Object(i.b)({key:"containerListState",default:[]}),O=Object(i.b)({key:"containerStatsListState",default:[]}),h=Object(i.b)({key:"containerNetworkListState",default:[]}),x=Object(i.b)({key:"imagesListState",default:[]}),m=Object(i.b)({key:"selectedContainerState",default:void 0}),p=Object(i.c)({key:"containerUsageState",get:function(e){var t=(0,e.get)(O);return Object.entries(t).reduce((function(e,t){var n,c=Object(u.a)(t,2),a=c[0],r=c[1],i=((null===r||void 0===r?void 0:r.cpu_stats.cpu_usage.total_usage)-(null===r||void 0===r?void 0:r.precpu_stats.cpu_usage.total_usage))/((null===r||void 0===r?void 0:r.cpu_stats.system_cpu_usage)-(null===r||void 0===r?void 0:r.precpu_stats.system_cpu_usage))*(null===r||void 0===r?void 0:r.cpu_stats.online_cpus)*100,s=((null===r||void 0===r?void 0:r.memory_stats.usage)-(null===r||void 0===r||null===(n=r.memory_stats.stats)||void 0===n?void 0:n.cache))/1024/1024,l=(null===r||void 0===r?void 0:r.memory_stats.limit)/1024/1024;return e[a]={name:r.name,cpu:i||0,memory:Math.round(s)||0,totalMemory:Math.round(l)||0},e}),{})}}),f=Object(i.c)({key:"containerPanelListState",get:function(e){var t=(0,e.get)(b);return 0===t.length?[]:t.map((function(e){return{id:e.Id,name:e.Name,state:e.State.Status,image:e.Config.Image,created:e.Created}}))}}),v=n(1),g=function(e){var t=e.selectedPanel,n=Object(i.d)(m);return Object(v.jsxs)("div",{className:"grid-container",children:[Object(v.jsx)("div",{className:"infotitlebar",children:Object(v.jsxs)(d.a,{as:"h3",children:[t.name,Object(v.jsx)(d.a.Subheader,{children:"host"===t.type?"Hostname":null===n||void 0===n?void 0:n.data.name})]})}),t.panel]})},y=n(19),k=n.n(y),w=n(22),C=n(45),I=n(117),S=n(167),N=n(343),A=n(571),_=n(6),H=n.n(_),R=Object(c.memo)((function(e){var t=e.title,n=e.label,c=e.value,a=e.total;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{children:[Object(v.jsxs)(N.a,{children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:t}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:n})]}),Object(v.jsx)(A.a,{value:c,total:a,className:"reverse-indicating",size:"tiny"})]})})}));R.propTypes={title:H.a.string.isRequired,label:H.a.string.isRequired,value:H.a.number.isRequired,total:H.a.number.isRequired};var M,E=R,F=n(315),D=n(316),P=Object(D.a)(j.d)(M||(M=Object(F.a)(["\n  position: absolute;\n  width: 25px;\n  height: calc(100% - 4px);\n  background-color: #718792;\n  border: medium none;\n  transform: translateY(0px);\n  top: 2px;\n\n  ","\n"])),(function(e){switch(e.position){case"right":return"border-radius: 0px 10px 10px 0px;\n        right: -36px;";case"left":return"border-radius: 10px 0px 0px 10px;\n        left: -26px;";default:return""}})),z=function(e){var t=e.id,n=e.type,c=e.position;return Object(v.jsx)(P,{position:c,id:t,type:n})},G=function(e){var t,n,c=e.data;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(d.a,{as:"h5",style:{wordBreak:"break-all"},children:[c.name,null!=c.healthyStatus&&Object(v.jsx)(S.a,{color:"healthy"===c.healthyStatus?"green":"starting"===c.healthyStatus?"yellow":"red",size:"mini",horizontal:!0,children:c.healthyStatus}),Object(v.jsx)(d.a.Subheader,{children:"#".concat(c.id.substring(0,12))})]}),Object(v.jsx)(E,{title:"CPU",label:null!=c.cpu?"".concat(Math.ceil(c.cpu),"%"):"n/a",value:null!==(t=c.cpu)&&void 0!==t?t:0,total:100}),Object(v.jsx)(E,{title:"Memory",label:null!==c.memory?"".concat(Math.round(c.memory),"/").concat(Math.round(c.totalMemory)," MiB"):"n/a",value:null!==(n=c.memory)&&void 0!==n?n:0,total:c.totalMemory}),Object(v.jsxs)(N.a,{children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:"Processes:"}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:null!=c.processCount||"n/a"})]}),Object(v.jsx)("div",{children:"IP Table"}),Object(v.jsx)(N.a,{columns:"equal",className:"",celled:"internally",verticalAlign:"middle",textAlign:"center",children:Object(v.jsxs)(N.a.Row,{stretched:!0,children:[Object(v.jsx)(N.a.Column,{children:Object(v.jsx)(N.a,{divided:"vertically",textAlign:"center",children:Object.entries(c.networkSettings.Ports).map((function(e){var t,n=Object(u.a)(e,2),a=n[0],r=n[1],i=a.split("/"),s=Object(u.a)(i,2),l=s[0],o=s[1];return Object(v.jsx)(N.a.Row,{children:r?"".concat(l,":").concat(null===(t=r[0])||void 0===t?void 0:t.HostPort,"/").concat(o.toUpperCase()):"".concat(l,"/").concat(o.toUpperCase())},"".concat(c.id,"-").concat(l,":").concat(null===r||void 0===r?void 0:r.HostPort,"/").concat(o))}))})}),Object(v.jsx)(N.a.Column,{children:Object(v.jsx)(N.a,{divided:"vertically",textAlign:"center",children:Object.entries(c.networkSettings.Networks).flatMap((function(e){var t=Object(u.a)(e,2)[1];return""===t.NetworkID?[]:Object(v.jsxs)(N.a.Row,{children:[t.IPAddress,Object(v.jsx)(z,{type:"source",position:"right",id:"".concat(c.id,"-").concat(t.NetworkID)})]},"".concat(c.id,"-").concat(t.NetworkID))}))})})]})}),Object(v.jsx)(S.a,{attached:"top right",size:"tiny",content:c.status,color:"running"===c.status?"green":"red"})]})},L=function(e){var t=e.data;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(d.a,{as:"h5",style:{wordBreak:"break-all"},children:[t.name,Object(v.jsx)(d.a.Subheader,{children:"#".concat(t.id.substring(0,12))})]}),Object(v.jsxs)(N.a,{className:"very compact",children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:"Driver:"}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:t.driver}),null!=t.gateway&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:"Gateway:"}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:t.gateway})]}),null!=t.subnet&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N.a.Column,{floated:"left",width:8,children:"Subnet:"}),Object(v.jsx)(N.a.Column,{floated:"right",width:8,textAlign:"right",children:t.subnet})]})]}),Object(v.jsx)(z,{type:"target",position:"left",id:t.id})]})},B=n(17),T=Object(i.b)({key:"graphPositionState",default:{}}),U=Object(i.c)({key:"setGraphPositionState",set:function(e,t){var n=e.set,c=(0,e.get)(T);n(T,Object(B.a)(Object(B.a)({},c),t))}}),V=Object(i.c)({key:"graphNodesState",get:function(e){var t=e.get,n=t(b),c=t(h),a=t(p);if(!Array.isArray(n)||!n.length)return[];if(0===Object.keys(a).length)return[];if(!Array.isArray(c)||!c.length)return[];var r=n.map((function(e){var t,n=a[e.Id];return{id:e.Id,type:"container",data:{id:e.Id,name:e.Name,status:e.State.Status,healthyStatus:null===(t=e.State.Health)||void 0===t?void 0:t.Status,cpu:null===n||void 0===n?void 0:n.cpu,memory:null===n||void 0===n?void 0:n.memory,totalMemory:null===n||void 0===n?void 0:n.totalMemory,processCount:null,networkSettings:e.NetworkSettings}}})),i=c.map((function(e){var t,n;return{id:e.Id,type:"network",data:{id:e.Id,name:e.Name,driver:e.Driver,gateway:null===(t=e.IPAM.Config[0])||void 0===t?void 0:t.Gateway,subnet:null===(n=e.IPAM.Config[0])||void 0===n?void 0:n.Subnet}}}));return[].concat(Object(w.a)(r),Object(w.a)(i))}}),W=Object(i.c)({key:"graphEdgesState",get:function(e){var t=e.get,n=t(b),c=t(h);return Array.isArray(n)&&n.length&&Array.isArray(c)&&c.length?n.flatMap((function(e){return Object.entries(e.NetworkSettings.Networks).flatMap((function(t){var n=Object(u.a)(t,2)[1];return c.some((function(e){return e.Id===n.NetworkID}))?{id:"".concat(e.Id,"-").concat(n.NetworkID),type:"smoothstep",source:e.Id,sourceHandle:"".concat(e.Id,"-").concat(n.NetworkID),target:n.NetworkID}:[]}))})):[]}}),q=Object(i.c)({key:"graphElementState",get:function(e){var t=e.get,n=t(T),c=t(W),a=t(V);if(!Array.isArray(a)||!a.length)return[];if(!Array.isArray(c)||!c.length)return[];var r=a.map((function(e){var t,c=null!==(t=n[e.id])&&void 0!==t?t:{position:{x:0,y:0}};return Object(B.a)(Object(B.a)({},e),c)}));return[].concat(Object(w.a)(r),Object(w.a)(c))}}),K=n(36),J=n(319),X=new(n.n(J).a)({defaultLayoutOptions:{"elk.algorithm":"layered","elk.direction":"RIGHT","elk.spacing.nodeNode":"100","elk.layered.spacing.nodeNodeBetweenLayers":"100","elk.edgeRouting":"ORTHOGONAL","elk.layered.layering.strategy":"MIN_WIDTH","elk.layered.nodePlacement.strategy":"LINEAR_SEGMENTS","elk.spacing.edgeNode":"50"}}),Y=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,c,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 75,75,n=[],c=[],t.forEach((function(e){if(Object(j.h)(e)){var t,a,r,i,s,l,o,d,u=null!==(t=null!==(a=null===(r=e.__rf)||void 0===r?void 0:r.handleBounds.source)&&void 0!==a?a:null===(i=e.__rf)||void 0===i?void 0:i.handleBounds.target)&&void 0!==t?t:[];n.push({id:e.id,width:null!==(s=null===(l=e.__rf)||void 0===l?void 0:l.width)&&void 0!==s?s:75,height:null!==(o=null===(d=e.__rf)||void 0===d?void 0:d.height)&&void 0!==o?o:75,layoutOptions:{portConstraints:"FIXED_ORDER","portAlignment.east":"END"},ports:Object(w.a)(u.map((function(e,t){return{id:e.id,width:0,height:0,layoutOptions:{"port.side":"right"===e.position?"EAST":"NORTH","port.index":t}}})))})}else c.push({id:e.id,sourcePort:"".concat(e.source,"-").concat(e.target),targetPort:e.target,source:e.source,target:e.target})})),e.next=7,X.layout({id:"root",children:n,edges:c});case 7:return a=e.sent,e.abrupt("return",t.filter((function(e){var t,n=null===a||void 0===a||null===(t=a.children)||void 0===t?void 0:t.find((function(t){return t.id===e.id}));return Object(j.h)(e)&&(null===n||void 0===n?void 0:n.x)&&(null===n||void 0===n?void 0:n.y)&&(null===n||void 0===n?void 0:n.width)&&(null===n||void 0===n?void 0:n.height)})).map((function(e){var t,n=null===a||void 0===a||null===(t=a.children)||void 0===t?void 0:t.find((function(t){return t.id===e.id}));return Object(K.a)({},e.id,{position:{x:n.x-n.width/2+Math.random()/1e3,y:n.y-n.height/2}})})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){console.log("flow loaded:",e),e.fitView()},Z={container:G,network:L},$=function(){var e=Object(i.d)(q),t=Object(i.e)(U),n=Object(j.i)((function(e){return e.nodes})),c=Object(j.i)((function(e){return e.edges})),a=function(){var e=Object(C.a)(k.a.mark((function e(){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y([].concat(Object(w.a)(c),Object(w.a)(n)));case 2:a=e.sent,t(Object.assign.apply(Object,[{}].concat(Object(w.a)(a))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=Object(i.e)(m);return Object(v.jsxs)(j.g,{elements:e,nodeTypes:Z,onLoad:Q,onSelectionChange:function(e){r((function(t){var n,c;return null!==(n=null===e||void 0===e||null===(c=e.filter((function(e){return"container"===e.type})))||void 0===c?void 0:c[0])&&void 0!==n?n:t}))},children:[Object(v.jsx)(j.c,{style:{left:"220px",bottom:"51px"},children:Object(v.jsx)(j.b,{onClick:function(){return a()},children:Object(v.jsx)(I.a,{name:"project diagram"})})}),Object(v.jsx)(j.e,{style:{left:"10px",bottom:"10px"}}),Object(v.jsx)(j.a,{color:"#aaa",gap:16})]})},ee=n(339),te=n(556),ne=Object(i.b)({key:"selectedMenuItemState",default:{key:!1,name:!1,panel:void 0}}),ce=n(539),ae=n(567),re=n(577),ie=Object(i.b)({key:"imageSocket",default:null,dangerouslyAllowMutability:!0}),se=Object(i.b)({key:"containersSocket",default:null,dangerouslyAllowMutability:!0}),le=Object(i.b)({key:"networksSocket",default:null,dangerouslyAllowMutability:!0}),oe=Object(i.b)({key:"recipesSocket",default:null,dangerouslyAllowMutability:!0}),je=new Set([]),de=function(){var e=Object(i.d)(f),t=Object(i.d)(se),n=function(e,t){var n=t.checked,c=t.id;n?je.add(c):je.delete(c)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"flex-box",children:[Object(v.jsx)(d.a,{dividing:!0,size:"large",children:"Action"}),Object(v.jsxs)(ce.a.Group,{children:[Object(v.jsxs)(ce.a,{positive:!0,onClick:function(){je.forEach((function(e){t.emit("start",e,{}),s.b.info("Starting Container: ".concat(e.substring(0,12)))}))},children:[Object(v.jsx)(I.a,{name:"play"}),"Start"]}),Object(v.jsxs)(ce.a,{color:"yellow",onClick:function(){je.forEach((function(e){t.emit("stop",e,{}),s.b.info("Stopping Container: ".concat(e.substring(0,12)))}))},children:[Object(v.jsx)(I.a,{name:"pause"}),"Stop"]}),Object(v.jsxs)(ce.a,{negative:!0,onClick:function(){je.forEach((function(e){t.emit("remove",e),s.b.info("Removing Container: ".concat(e.substring(0,12)))})),je.clear()},children:[Object(v.jsx)(I.a,{name:"trash"}),"Delete"]})]}),Object(v.jsx)(te.a,{}),Object(v.jsx)("div",{className:"flex-tab",children:Object(v.jsxs)(ae.a,{fixed:!0,compact:"very",basic:"very",selectable:!0,children:[Object(v.jsx)(ae.a.Header,{fullWidth:!0,children:Object(v.jsxs)(ae.a.Row,{children:[Object(v.jsx)(ae.a.HeaderCell,{style:{width:"min-content"},children:Object(v.jsx)(re.a,{disabled:!0})}),Object(v.jsx)(ae.a.HeaderCell,{children:"Status"}),Object(v.jsx)(ae.a.HeaderCell,{children:"Name"}),Object(v.jsx)(ae.a.HeaderCell,{children:"ID"}),Object(v.jsx)(ae.a.HeaderCell,{children:"Image"}),Object(v.jsx)(ae.a.HeaderCell,{children:"Created at"})]})}),Object(v.jsx)(ae.a.Body,{children:e.map((function(e){return Object(v.jsxs)(ae.a.Row,{children:[Object(v.jsx)(ae.a.Cell,{children:Object(v.jsx)(re.a,{id:e.id,onChange:n})}),Object(v.jsxs)(ae.a.Cell,{children:[("exited"===e.state||"dead"===e.state)&&Object(v.jsx)(S.a,{color:"red",children:e.state}),"running"===e.state&&Object(v.jsx)(S.a,{color:"green",children:e.state}),("created"===e.state||"restarting"===e.state||"paused"===e.state)&&Object(v.jsx)(S.a,{color:"yellow",children:e.state})]}),Object(v.jsx)(ae.a.Cell,{className:"warp-text",children:e.name}),Object(v.jsx)(ae.a.Cell,{children:e.id.substring(0,12)}),Object(v.jsx)(ae.a.Cell,{children:e.name}),Object(v.jsx)(ae.a.Cell,{children:e.created})]},e.id)}))})]})})]})})},ue=function(){var e=Object(i.d)(x);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"flex-box",children:Object(v.jsx)("div",{className:"flex-tab",children:Object(v.jsxs)(ae.a,{fixed:!0,compact:"very",basic:"very",selectable:!0,children:[Object(v.jsx)(ae.a.Header,{fullWidth:!0,children:Object(v.jsxs)(ae.a.Row,{children:[Object(v.jsx)(ae.a.HeaderCell,{children:"ID"}),Object(v.jsx)(ae.a.HeaderCell,{children:"Tags"}),Object(v.jsx)(ae.a.HeaderCell,{children:"Size"}),Object(v.jsx)(ae.a.HeaderCell,{children:"Created"}),Object(v.jsx)(ae.a.HeaderCell,{width:"1"})]})}),Object(v.jsx)(ae.a.Body,{children:e.map((function(e){return Object(v.jsxs)(ae.a.Row,{children:[Object(v.jsx)(ae.a.Cell,{children:e.Id}),Object(v.jsx)(ae.a.Cell,{className:"warp-text",children:e.RepoTags.join(",")}),Object(v.jsxs)(ae.a.Cell,{children:[(e.Size/1024/1024).toFixed(2)," MB"]}),Object(v.jsx)(ae.a.Cell,{children:e.Created}),Object(v.jsx)(ae.a.Cell,{children:Object(v.jsx)(I.a,{name:"arrow right"})})]},e.Id)}))})]})})})})},be=n(569),Oe=n(564),he=Object(c.memo)((function(e){var t=e.total,n=e.data,c=n.every((function(e){return 0===e.value})),a=n.map((function(e,n,a){var r,i,s=a.length,l=e.value/t*100;return Object(v.jsx)(Oe.a,{position:"top center",value:l,trigger:Object(v.jsx)("div",{className:"bar highlight",style:{backgroundColor:c?"transparent":"#".concat(e.id.substring(0,6)),width:"".concat(l,"%"),display:c&&n+1===s?"block":0===l?"none":"block",minWidth:"5px"},children:Object(v.jsx)("div",{className:"progress",children:"".concat((r=l,i=2,i>0?Math.round(r*(10*i))/(10*i):Math.round(r)),"%")})}),children:Object(v.jsx)(Oe.a.Content,{children:Object(v.jsxs)(d.a,{size:"tiny",children:[e.name,Object(v.jsx)(d.a.Subheader,{children:e.id})]})})},e.id)}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"ui multiple progress",style:{margin:"0px"},children:a})})})),xe=function(e){var t=e.data,n=e.title,c=e.labelSuffix,a=e.total,r=t.reduce((function(e,t){return e+t.value}),0).toFixed(2);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(be.a.Group,{children:Object(v.jsxs)(be.a,{fluid:!0,children:[Object(v.jsx)(be.a.Content,{children:Object(v.jsxs)(be.a.Header,{children:[Object(v.jsx)("span",{children:n}),Object(v.jsx)("span",{className:"right floated",children:r+c})]})}),Object(v.jsx)(be.a.Content,{children:Object(v.jsx)(he,{total:a,data:t})})]})})})},me=function(){var e=Object(i.d)(p),t=Object(i.d)(b),n=Object(i.d)(h),c=Object(i.d)(x),a=Object.entries(e).map((function(e){var t=Object(u.a)(e,2),n=t[0],c=t[1];return{id:n.substr(0,12),name:c.name,value:c.cpu}})),r=Object.entries(e).map((function(e){var t=Object(u.a)(e,2),n=t[0],c=t[1];return{id:n.substr(0,12),name:c.name,value:c.memory}})),s=1986.56;return Object(v.jsxs)("div",{className:"infosidebar",children:[Object(v.jsx)(xe,{total:400,title:"CPU Usage",labelSuffix:"%",data:a}),Object(v.jsx)(xe,{total:s,title:"Memory Usage",labelSuffix:" MiB / ".concat(s," MiB"),data:r}),Object(v.jsxs)(be.a.Group,{centered:!0,className:"horizontal",children:[Object(v.jsxs)(be.a,{style:{width:"170px",alignItems:"center",minWidth:"0px"},children:[Object(v.jsx)("div",{children:Object(v.jsx)(I.a,{name:"dice d6",size:"huge"})}),Object(v.jsxs)(be.a.Content,{children:[Object(v.jsx)(be.a.Header,{children:t.length}),Object(v.jsx)(be.a.Description,{children:"Containers"})]})]}),Object(v.jsxs)(be.a,{style:{width:"170px",alignItems:"center",minWidth:"0px"},children:[Object(v.jsx)(I.a,{name:"window restore",size:"huge"}),Object(v.jsxs)(be.a.Content,{children:[Object(v.jsx)(be.a.Header,{children:c.length}),Object(v.jsx)(be.a.Description,{children:"Images"})]})]}),Object(v.jsxs)(be.a,{style:{width:"170px",alignItems:"center",minWidth:"0px"},children:[Object(v.jsx)(I.a,{name:"sitemap",size:"huge"}),Object(v.jsxs)(be.a.Content,{children:[Object(v.jsx)(be.a.Header,{children:n.length}),Object(v.jsx)(be.a.Description,{children:"Networks"})]})]})]})]})},pe=n(208),fe=n(209),ve=n(557),ge=n(558),ye=n(562),ke=n(336),we=n(337),Ce=n(172),Ie=n(165),Se=n(342),Ne={conatinerId:"",status:Object(w.a)(Array(50)).map((function(){return{time:null,cpu:0,memory:0}}))},Ae=function(){var e=Object(i.d)(m),t=Object(i.d)(p);return console.log(Ne),e.data.id===Ne.conatinerId?(Ne.status.shift(),Ne.status.push({time:null,cpu:t[e.data.id].cpu,memory:t[e.data.id].memory})):(Ne.conatinerId=e.data.id,Ne.status=Object(w.a)(Array(50)).map((function(){return{time:null,cpu:0,memory:0}}))),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"flex-box",children:[Object(v.jsx)("h1",{children:"CPU"}),Object(v.jsx)(ve.a,{maxHeight:300,children:Object(v.jsxs)(ge.a,{data:Ne.status,margin:{top:10,right:30,left:0,bottom:0},children:[Object(v.jsx)(ye.a,{strokeDasharray:"3 3"}),Object(v.jsx)(ke.a,{dataKey:"time"}),Object(v.jsx)(we.a,{type:"number",domain:[0,100]}),Object(v.jsx)(Ce.a,{}),Object(v.jsx)(Ie.a,{}),Object(v.jsx)(Se.a,{type:"linear",dataKey:"cpu",stroke:"#8884d8",isAnimationActive:!1})]})}),Object(v.jsx)("h1",{children:"Memory"}),Object(v.jsx)(ve.a,{maxHeight:300,children:Object(v.jsxs)(ge.a,{data:Ne.status,margin:{top:10,right:30,left:0,bottom:0},children:[Object(v.jsx)(ye.a,{strokeDasharray:"3 3"}),Object(v.jsx)(ke.a,{dataKey:"time"}),Object(v.jsx)(we.a,{type:"number",domain:[0,8192]}),Object(v.jsx)(Ce.a,{}),Object(v.jsx)(Ie.a,{}),Object(v.jsx)(Se.a,{type:"linear",dataKey:"memory",stroke:"#8884d8",isAnimationActive:!1})]})})]})})},_e=n(578),He=n(565),Re=n(253),Me=n(568),Ee=(ee.a.Item,I.a,ee.a.Item,I.a,ee.a.Item,I.a,n(570),n(572),n(51)),Fe=new Set([]),De=function(){var e=Object(i.d)(h),t=Object(i.d)(le),n=Object(w.a)(e).sort((function(e,t){return e.Id>t.Id})),c=function(e,t){var n=t.checked,c=t.id;n?Fe.add(c):Fe.delete(c)};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"flex-box",children:[Object(v.jsx)(d.a,{dividing:!0,size:"large",children:"Action"}),Object(v.jsx)(ce.a.Group,{widths:"2",children:Object(v.jsxs)(ce.a,{negative:!0,onClick:function(){Fe.forEach((function(e){t.emit("remove",e),s.b.info("Removing Network: ".concat(e.substring(0,12)))})),Fe.clear()},children:[Object(v.jsx)(I.a,{name:"trash"}),"Remove"]})}),Object(v.jsx)(te.a,{}),Object(v.jsx)("div",{className:"flex-tab",children:Object(v.jsxs)(ae.a,{fixed:!0,compact:"very",basic:"very",selectable:!0,children:[Object(v.jsx)(ae.a.Header,{fullWidth:!0,children:Object(v.jsxs)(ae.a.Row,{children:[Object(v.jsx)(ae.a.HeaderCell,{style:{width:"min-content"},children:Object(v.jsx)(re.a,{disabled:!0})}),Object(v.jsx)(ae.a.HeaderCell,{children:"ID"}),Object(v.jsx)(ae.a.HeaderCell,{children:"Name"}),Object(v.jsx)(ae.a.HeaderCell,{children:"Driver"}),Object(v.jsx)(ae.a.HeaderCell,{children:"Created"})]})}),Object(v.jsx)(ae.a.Body,{children:n.map((function(e){return Object(v.jsxs)(ae.a.Row,{children:[Object(v.jsx)(ae.a.Cell,{children:Object(v.jsx)(re.a,{id:e.Id,onChange:c})}),Object(v.jsx)(ae.a.Cell,{children:e.Id}),Object(v.jsx)(ae.a.Cell,{className:"warp-text",children:e.Name}),Object(v.jsx)(ae.a.Cell,{children:e.Driver}),Object(v.jsx)(ae.a.Cell,{children:e.Created})]},e.Id)}))})]})})]})})},Pe=function(e){var t=e.handleClick,n=Object(i.d)(oe),a=Object(c.useState)([]),r=Object(u.a)(a,2),s=r[0],l=r[1];return Object(c.useEffect)((function(){n.emit("list",(function(e){l(e)}))}),[n]),Object(v.jsx)(be.a.Group,{children:s.map((function(e){return Object(v.jsx)(be.a,{id:e,header:e,onClick:t},e)}))})},ze=function(e){var t=e.nestIndex,n=e.control,c=e.register,a=e.getValues,r=Object(Ee.b)({control:n,name:"envvar.".concat(t,".nestedArray")}),i=r.fields;r.remove,r.append;return Object(v.jsxs)("div",{children:[i.map((function(e,n){return Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)(d.a,{as:"h4",content:a("envvar.".concat(t,".nestedArray.").concat(n,".key")),subheader:a("envvar.".concat(t,".nestedArray.").concat(n,".desc"))}),Object(v.jsx)("input",Object(B.a)({},c("envvar.".concat(t,".nestedArray.").concat(n,".value"))))]},e.id)})),Object(v.jsx)(te.a,{})]})};function Ge(e){var t=e.control,n=e.register,c=(e.setValue,e.getValues),a=Object(Ee.b)({control:t,name:"envvar"}),r=a.fields;a.append,a.remove,a.prepend;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("ul",{children:r.map((function(e,a){return Object(v.jsxs)("li",{children:[Object(v.jsx)(d.a,{as:"h2",content:c("envvar.".concat(a,".name"))}),Object(v.jsx)(ze,{nestIndex:a,control:t,register:n,getValues:c})]},e.id)}))})})}var Le=function(e){var t=e.recipeName,n=e.handleClose,a=Object(i.d)(oe),r=Object(Ee.c)(),s=r.handleSubmit,l=r.control,o=r.register,j=r.getValues,b=r.setValue,O=r.reset,h=Object(Ee.b)({control:l,name:"variables"}).fields,x=Object(c.useState)(""),m=Object(u.a)(x,2),p=m[0],f=m[1];return Object(c.useEffect)((function(){a&&a.emit("get_recipe",t,(function(e){var t=JSON.parse(e);f(t.canonical_id);var n={variables:t.variables.map((function(e){return{key:e.key,desc:e.description,value:e.default}})),envvar:t.containers.map((function(e){return{name:e.name,nestedArray:e.environment_variables.map((function(e){return{key:e.key,desc:e.description,value:e.default}}))}}))};O(n)}))}),[a]),Object(v.jsxs)(He.a,{onSubmit:s((function(e){var t=e.prefix,c=e.variables,r=e.envvar,i=Object.assign.apply(Object,[{}].concat(Object(w.a)(c.map((function(e){return Object(K.a)({},e.key,e.value)}))))),s=Object.assign.apply(Object,[{}].concat(Object(w.a)(r.map((function(e){return Object(K.a)({},e.name,Object.assign.apply(Object,[{}].concat(Object(w.a)(e.nestedArray.flatMap((function(e){return""!==e.value?Object(K.a)({},e.key,e.value):[]}))))))})))));console.log("sended"),a.emit("craft",p,t,i,s),n()})),id:"recipe-form",children:[Object(v.jsx)(d.a,{as:"h1",content:"Recipe Settings"}),Object(v.jsx)(te.a,{}),Object(v.jsx)(d.a,{as:"h3",content:"Prefix name",subheader:"For conatiner group prefix name"}),Object(v.jsx)("input",Object(B.a)({type:"text"},o("prefix"))),Object(v.jsx)(d.a,{as:"h1",content:"Variables"}),Object(v.jsx)(te.a,{}),h.map((function(e,t){return Object(v.jsxs)("div",{className:"field",children:[Object(v.jsx)(d.a,{as:"h3",content:e.key,subheader:e.desc}),Object(v.jsx)("input",Object(B.a)({type:"text",placeholder:e.desc},o("variables.".concat(t,".value"))))]},e.id)})),Object(v.jsx)(d.a,{as:"h1",content:"Environment Variables"}),Object(v.jsx)(te.a,{}),Object(v.jsx)(Ge,{control:l,register:o,getValues:j,setValue:b})]})},Be=function(e){var t,n=e.trigger,a=Object(c.useState)(!1),r=Object(u.a)(a,2),i=r[0],s=r[1],l=Object(c.useState)(""),o=Object(u.a)(l,2),j=o[0],d=o[1],b=function(){d(""),s(!1)};return t=Object(v.jsx)(Pe,{handleClick:function(e,t){var n=t.id;d(n)}}),""!==j&&(t=Object(v.jsx)(Le,{recipeName:j,handleClose:b})),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(Me.a,{size:"large",trigger:n,onOpen:function(){return s(!0)},onClose:function(){return b()},open:i,children:[Object(v.jsxs)(Me.a.Header,{children:[Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:"window restore"}),Object(v.jsx)(I.a,{name:"add",corner:!0})]}),Object(v.jsx)("span",{children:" Recipe Wizard"})]}),Object(v.jsx)(Me.a.Content,{scrolling:!0,children:t}),Object(v.jsx)(Me.a.Actions,{children:""!==j&&Object(v.jsxs)(ce.a,{positive:!0,form:"recipe-form",children:[Object(v.jsx)(I.a,{name:"plus"}),"Create"]})})]})})},Te=function(){var e=Object(c.useRef)(null),t=new pe.FitAddon,n=Object(i.d)(se),a=Object(i.d)(m);return Object(c.useEffect)((function(){return e.current.terminal.clear(),n.emit("listen_logs",a.data.id,{tail:200}),n.on("logs",(function(t){e.current.terminal.writeln(t)})),function(){n.emit("stop_listen_logs",a.data.id),n.removeAllListeners("logs")}}),[a]),Object(c.useEffect)((function(){t.fit()})),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"flex-box",children:Object(v.jsx)(fe.a,{className:"flex-tab",options:{convertEol:!0},ref:e,addons:[t],onResize:t.fit()})})})},Ue=n(563),Ve=function(e){var t=e.trigger,n=Object(i.d)(oe);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(Me.a,{size:"large",trigger:t,children:[Object(v.jsxs)(Me.a.Header,{children:[Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:"window restore"}),Object(v.jsx)(I.a,{name:"add",corner:!0})]}),Object(v.jsx)("span",{children:" Recipe Wizard"})]}),Object(v.jsx)(Me.a.Content,{scrolling:!0,children:Object(v.jsx)(Re.a,{placeholder:!0,children:Object(v.jsx)(N.a,{columns:"2",stackable:!0,textAlign:"center",children:Object(v.jsx)(N.a.Row,{verticalAlign:"middle",children:Object(v.jsxs)(N.a.Column,{children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)("div",{children:Object(v.jsxs)(I.a.Group,{size:"huge",children:[Object(v.jsx)(I.a,{name:"upload"}),Object(v.jsx)(I.a,{corner:"bottom right",name:"scroll"})]})}),Object(v.jsx)("br",{}),"Upload recipe zip"]}),Object(v.jsx)(Ue.a,{id:"file-upload",type:"file",style:{display:"none"},onChange:function(e){var t=e.target.files;if(t[0]){var c=new FileReader;c.onload=function(e){n.emit("upload",e.target.result)},console.log("sended"),c.readAsArrayBuffer(t[0])}}}),Object(v.jsx)(ce.a,{as:"label",primary:!0,htmlFor:"file-upload",children:"Select File"})]})})})})})]})})},We=[{key:"overview",type:"host",name:"Overview",icon:"desktop",panel:Object(v.jsx)(me,{})},{key:"containers",type:"host",name:"Containers",icon:"dice d6",panel:Object(v.jsx)(de,{})},{key:"images",type:"host",name:"Images",icon:"window restore",panel:Object(v.jsx)(ue,{})},{key:"networks",type:"host",name:"Networks",icon:"sitemap",panel:Object(v.jsx)(De,{})},{key:"status",type:"container",name:"Status",icon:"chart area",panel:Object(v.jsx)(Ae,{})},{key:"logs",type:"container",name:"Logs",icon:"stream",panel:Object(v.jsx)(Te,{})},{key:"UploadRecipe",type:"action",name:"Upload Recipe",icon:"upload",cornerIcon:"scroll",panel:function(e){return Object(v.jsx)(Ve,{trigger:e},"CreateImage")}},{key:"CreateRecipe",type:"action",name:"Create Recipe",icon:"scroll",cornerIcon:"add",panel:function(e){return Object(v.jsx)(Be,{trigger:e},"CreateRecipe")}}],qe=function(e){var t=e.selectedPanel,n=Object(i.e)(ne),c=function(e,t){var c=t._key;n((function(e){return e.key===c?{key:!1,type:!1,name:!1,panel:null,icon:""}:We.find((function(e){return e.key===c}))}))},a=function(e,t){t._key;console.log("clicking")},r=Object(i.d)(m);return Object(v.jsxs)(ee.a,{icon:!0,vertical:!0,compact:!0,children:[We.filter((function(e){return"host"===e.type})).map((function(e){return Object(v.jsx)(ee.a.Item,{_key:e.key,name:e.name,active:t===e.name,onClick:c,children:Object(v.jsx)("div",{children:Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:e.icon,size:"large"}),e.cornerIcon&&Object(v.jsx)(I.a,{name:e.cornerIcon,corner:!0})]})})},e.key)})),Object(v.jsx)(te.a,{fitted:!0}),Object(v.jsx)(te.a,{hidden:!0}),We.filter((function(e){return"container"===e.type})).map((function(e){return Object(v.jsx)(ee.a.Item,{_key:e.key,name:e.name,active:t===e.name,onClick:c,disabled:!r,children:Object(v.jsx)("div",{children:Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:e.icon,size:"large"}),e.cornerIcon&&Object(v.jsx)(I.a,{name:e.cornerIcon,corner:!0})]})})},e.key)})),Object(v.jsx)(te.a,{fitted:!0}),Object(v.jsx)(te.a,{hidden:!0}),We.filter((function(e){return"action"===e.type})).map((function(e){return e.panel(Object(v.jsx)(ee.a.Item,{_key:e.key,name:e.name,active:t===e.name,onClick:a,children:Object(v.jsx)("div",{children:Object(v.jsxs)(I.a.Group,{children:[Object(v.jsx)(I.a,{name:e.icon,size:"large"}),e.cornerIcon&&Object(v.jsx)(I.a,{name:e.cornerIcon,corner:!0})]})})},e.key))}))]})},Ke=function(){var e=Object(i.d)(b),t=Object(i.d)(O),n=Object(i.d)(h),a=Object(i.d)(x),r=Object(c.useState)(!0),s=Object(u.a)(r,2),l=s[0],o=s[1];return Object(v.jsx)(v.Fragment,{children:l&&Object(v.jsxs)("div",{className:"ui status overlay nag",children:[Object(v.jsxs)("div",{className:"title",children:[0===e.length?Object(v.jsx)(I.a,{name:"x",color:"red"}):Object(v.jsx)(I.a,{name:"check",color:"green"}),Object(v.jsx)("span",{children:"Container List "}),0===Object.keys(t).length?Object(v.jsx)(I.a,{name:"x",color:"red"}):Object(v.jsx)(I.a,{name:"check",color:"green"}),Object(v.jsx)("span",{children:"Stats List "}),0===n.length?Object(v.jsx)(I.a,{name:"x",color:"red"}):Object(v.jsx)(I.a,{name:"check",color:"green"}),Object(v.jsx)("span",{children:"Network List "}),0===a.length?Object(v.jsx)(I.a,{name:"x",color:"red"}):Object(v.jsx)(I.a,{name:"check",color:"green"}),Object(v.jsx)("span",{children:"Image List "})]}),Object(v.jsx)(I.a,{name:"close",onClick:function(){return o(!1)}})]})})},Je=function(){var e=Object(i.d)(ne),t=Object(i.e)(b),n=Object(i.e)(O),a=Object(i.e)(h),r=Object(i.e)(x),d=Object(i.d)(oe),u=Object(i.e)(se),m=Object(i.e)(ie),p=Object(i.e)(le),f=Object(i.e)(oe);return Object(c.useEffect)((function(){var e=Object(l.io)("http://127.0.0.1:4636/containers");e.on("connect",(function(){console.log(e.id)}));var c=setInterval((function(){e.volatile.emit("list",{all:!0},(function(e){t(e)}))}),5e3),a=setInterval((function(){e.volatile.emit("list_stats",(function(e){n(e)}))}),7e3);return u(e),function(){clearInterval(c),clearInterval(a),e.disconnect()}}),[]),Object(c.useEffect)((function(){var e=Object(l.io)("http://127.0.0.1:4636/networks");e.on("connect",(function(){console.log(e.id)}));var t=setInterval((function(){e.volatile.emit("list",{},(function(e){a(e)}))}),3e3);return p(e),function(){clearInterval(t),e.disconnect()}}),[]),Object(c.useEffect)((function(){var e=Object(l.io)("http://127.0.0.1:4636/images");e.on("connect",(function(){console.log(e.id)}));var t=setInterval((function(){e.volatile.emit("list",(function(e){r(e)}))}),4e3);return m(e),function(){clearInterval(t),e.disconnect()}}),[]),Object(c.useEffect)((function(){var e=Object(l.io)("http://127.0.0.1:4636/recipes");return e.on("connect",(function(){console.log(e.id)})),f(e),function(){e.disconnect()}}),[]),Object(c.useEffect)((function(){return d&&d.on("message",(function(e){s.b.info(e.message)})),function(){d&&d.removeAllListeners("message")}}),[d]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)(Ke,{}),Object(v.jsxs)(o.a.Pushable,{style:{flexGrow:"1"},children:[Object(v.jsx)(o.a,{animation:"overlay",direction:"right",visible:!!e.name,className:"with-toolbar",style:{overflow:"hidden"},children:Object(v.jsx)(g,{selectedPanel:e})}),Object(v.jsx)(o.a.Pusher,{style:{height:"100%"},children:Object(v.jsx)(j.f,{children:Object(v.jsx)($,{})})})]}),Object(v.jsx)(qe,{selectedPanel:e.name})]})})},Xe=function(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(s.a,{position:"top-left"}),Object(v.jsx)(Je,{})]})};r.a.render(Object(v.jsx)(Xe,{}),document.getElementById("root"))}},[[538,1,2]]]);
//# sourceMappingURL=main.0db77c50.chunk.js.map